{"version":3,"sources":["finger.png","App.js","index.js"],"names":["module","exports","__webpack_require__","p","savedLength","Number","localStorage","getItem","savedNumbers","JSON","parse","createArray","length","Array","fill","map","_","i","isMobile","test","navigator","userAgent","App","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleToggle","checkArray","shuffle","array","shuffleNumbers","filter","item","flatten","chunk","a","shift","handleOnDown","e","currentTarget","classList","add","copyArray","state","resetLength","keys","clearInterval","timer","isGood","every","newLength","isEmpty","setItem","stringify","setState","startTimer","handleOnUp","remove","renderItem","react_default","createElement","key","className","cx","active","_this2","time","setInterval","src","LIGHT_FINGERS_SRC","alt","onMouseDown","undefined","onMouseUp","onTouchStart","onTouchEnd","React","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.553ac08b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/finger.af9530c9.png\";","import React from 'react';\nimport cx from 'classnames';\nimport shuffle from 'lodash/shuffle';\nimport chunk from 'lodash/chunk';\nimport flatten from 'lodash/flatten';\nimport isEmpty from 'lodash/isEmpty';\n\nimport LIGHT_FINGERS_SRC from './finger.png';\n\nimport './App.css';\n\nconst savedLength = Number(localStorage.getItem('savedLength')) || 1;\nconst savedNumbers = localStorage.getItem('savedNumbers') ? JSON.parse(localStorage.getItem('savedNumbers')) : {};\n\nconst createArray = (length) => {\n    return Array(length).fill(length).map((_, i) => i);\n};\n\nconst isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent);\n\nclass App extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            array: this.shuffle(savedLength, savedNumbers),\n            length: savedLength,\n            savedNumbers: savedNumbers\n        };\n    }\n\n    timer;\n\n    componentDidMount() {\n        this.startTimer(this.state.length)\n    }\n\n    startTimer(length) {\n        const time = 800 - (length * 15);\n\n        this.timer = setInterval(() => {\n            this.setState({\n                array: this.shuffle(this.state.length, this.state.savedNumbers)\n            })\n        }, time < 350 ? 350 : time);\n    }\n\n    handleToggle = () => {\n        this.checkArray();\n    }\n\n    shuffle = (length, savedNumbers) => {\n        const array = createArray(length);\n        let shuffleNumbers = array.filter((item) => {\n            return !savedNumbers[item];\n        });\n\n        shuffleNumbers = flatten(chunk(shuffleNumbers, 6).map(a => shuffle(a)));\n\n        const data = array.map(item => savedNumbers[item] ? item : shuffleNumbers.shift());\n\n        return data;\n    }\n\n    handleOnDown = (e) => {\n        e.currentTarget.classList.add('press-finger');\n\n        const copyArray = createArray(this.state.length);\n        let savedNumbers = {};\n        const resetLength = Object.keys(this.state.savedNumbers).length;\n\n        clearInterval(this.timer);\n\n        const isGood = this.state.array.every((item, i) => {\n            const isGood = item === copyArray[i];\n\n            if (isGood) {\n                savedNumbers[item] = true;\n\n                return isGood\n            }\n\n            if (resetLength === i) {\n                savedNumbers = {};\n            }\n\n            return isGood;\n        });\n\n        let newLength = this.state.length;\n\n        if (!isGood) {\n            if (isEmpty(savedNumbers) && isEmpty(this.state.savedNumbers)) {\n                newLength--\n            }\n        } else {\n            savedNumbers = {};\n\n            newLength++;\n        }\n\n        localStorage.setItem('savedLength', newLength);\n        localStorage.setItem('savedNumbers', JSON.stringify(savedNumbers));\n\n        this.setState({\n            array: this.shuffle(newLength, savedNumbers),\n            length: newLength,\n            savedNumbers\n        });\n\n        this.startTimer(newLength)\n    }\n\n    handleOnUp = (e) => e.currentTarget.classList.remove('press-finger');\n\n    renderItem = (i) => <div key={i} className={cx('item', { active: this.state.savedNumbers[i] })}>{i}</div>;\n\n    render() {\n        const { array } = this.state;\n\n        return (\n            <div className=\"wrapper\">\n                <div className=\"title\">\n                    Easy sort array\n                </div>\n                <div className=\"sub-title\">\n                    level:<div className=\"points\"> {this.state.length - 1}</div>\n                </div>\n\n                <div className=\"array\">\n                    {array.map(this.renderItem)}\n                </div>\n\n                <img\n                    src={LIGHT_FINGERS_SRC}\n                    alt=\"finger\"\n                    onMouseDown={!isMobile ? this.handleOnDown : undefined}\n                    onMouseUp={!isMobile ? this.handleOnUp : undefined}\n                    onTouchStart={isMobile ? this.handleOnDown : undefined}\n                    onTouchEnd={isMobile ? this.handleOnUp : undefined}\n                    className=\"finger\"\n                />\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}